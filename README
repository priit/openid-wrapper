OpenidWrapper
=============

Thin OpenID Wrapper for Ruby on Rails using ruby-openid gem.

The goal is to have openid consumer wrapper, what follows more closely 
the spirit of OpenID spec, provides some handy methods and using as clear and
commented code as possible. 

No more you need squeezed openid through one method, enjoy same clarity as 
you will find in OpenID spec, so when you start request then you use method
begin_openid (aliased to create_openid) and when you complete your request, 
then use method complete_openid. 

Just for note this wrapper is made openid only in mind, so that's why it
might not be the quickest fit for you if you also need old way of 
username-password authentication. 


Installation
============

NB! OPENID WRAPPER IS NOT READY, SO NO GEM INSTALL YET!
I pushed it up with git for people who would like to review the code and give 
some ideas to improve this initial stuff. 

Start with:

  sudo gem install openid-wrapper

Add to config/environment.rb:

  config.gem 'openid_wrapper'

Add to config/routes.rb:
  
  map.resources :users

  # unfortunatly OpenID spec does not honor RESTful design,
  # so we need complete action as well.
  map.resources :sessions, :collection => {:complete => :get}

  # handy shortcuts, you can use as link_to 'Signup', signup_path
  map.signup '/signup', :controller => 'users', :action => 'new'
  map.login '/login', :controller => 'sessions', :action => 'new'
  map.logout '/logout', :controller => 'sessions', :action => 'destroy'

Add to app/views/users/new.html.haml:

  - form_tag sessions_path do
    = text_field_tag :openid_identifier
    = submit_tag 'Login'


Additional Notes
================

OpenID Wrapper will generate log entry:
  
  ** openid_wrapper: initialized properly.


How to contribute?
==================

You are welcome to clone it at your favourite git repository:

  main repository: 
    http://gitorious.org/projects/openid-wrapper

  secondary repositories:
    http://rubyforge.org/projects/openid-wrapper/ 
    http://github.com/priit/openid-wrapper/

Check out TODO file to find out some pending tasks or do whatever you
like to improve. Just send merge request, when you like to push
your improvements. 


General Info about OpenID
=========================

OpenID Authentication 2.0 - final specifications
http://openid.net/specs/openid-authentication-2_0.html


History and Credits
===================

 * OpenID Authentication plugin stared by David Heinemeier Hansson.[1]
 * Alex Gorbatchev made complete clean up without changing original API.[2]
 * Priit Tamboom made complete API change as well and gemified it.[3]

[1] http://svn.rubyonrails.org/rails/plugins/open_id_authentication/
[2] http://code.google.com/p/open-id-authentication/
[3] http://gitorious.org/projects/openid-wrapper/ 

Copyright (c) 2008 Priit Tamboom, released under the MIT license
